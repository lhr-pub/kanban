# å¤šäººåä½œçœ‹æ¿åº”ç”¨ ğŸš€

ä¸€ä¸ªç°ä»£åŒ–çš„å¤šç”¨æˆ·å®æ—¶åä½œçœ‹æ¿å·¥å…·ï¼Œä¸“ä¸ºå›¢é˜Ÿé¡¹ç›®ç®¡ç†è€Œè®¾è®¡ã€‚æ”¯æŒé¡¹ç›®/æˆå‘˜ç®¡ç†ã€é‚®ä»¶éªŒè¯ç™»å½•ã€å®æ—¶åä½œã€Trello å¼å¡ç»„ä¸å¡ç‰‡ã€ç¨³å®šçš„å†…è”ç¼–è¾‘ã€æ‹–æ‹½æ’åºã€å½’æ¡£ä¸å¯¼å…¥å¯¼å‡ºã€æ˜Ÿæ ‡çœ‹æ¿ä¸â€œé‚€è¯·ç®¡ç†â€ï¼Œå¹¶å…·å¤‡æ— é—ªçƒçš„é«˜è´¨é‡äº¤äº’ä½“éªŒã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ¯ å®æ—¶åä½œä¸ç¼–è¾‘å ç”¨
- å¤šäººåŒæ—¶ç¼–è¾‘ï¼šåŒä¸€çœ‹æ¿å®æ—¶å¹¿æ’­æ›´æ”¹
- åœ¨çº¿æˆå‘˜åˆ—è¡¨ï¼šæ˜¾ç¤ºåœ¨çº¿ç”¨æˆ·
- ç¼–è¾‘å ç”¨æç¤ºï¼šæ­£åœ¨ç¼–è¾‘çš„å¡ç‰‡ä¼šæ˜¾ç¤ºå ç”¨æ ‡è®°

### ğŸ‘¥ è´¦å·ã€é‚®ä»¶ä¸æˆå‘˜/é‚€è¯·
- é‚®ç®±éªŒè¯ç™»å½•ï¼šæ³¨å†Œåå‘é€éªŒè¯é‚®ä»¶ï¼ˆæ”¯æŒè‡ªå®šä¹‰ SMTPï¼‰ï¼›æœªéªŒè¯é‚®ç®±ä¸èƒ½ç™»å½•
- å¿˜è®°/é‡ç½®å¯†ç ï¼šé‚®ä»¶é“¾æ¥è®¾ç½®æ–°å¯†ç ï¼ˆå¸¦ 60s é¢‘ç‡é™åˆ¶ï¼‰
- é‚€è¯·ç®¡ç†ï¼ˆé¦–é¡µå¯¼èˆªï¼‰ï¼š
  - æˆ‘æ”¶åˆ°çš„é‚€è¯·ï¼šæ¥å—/æ‹’ç»
  - å¾…æˆ‘å®¡æ‰¹çš„åŠ å…¥ç”³è¯·ï¼ˆé¡¹ç›®æ‰€æœ‰è€…ï¼‰ï¼šåŒæ„/æ‹’ç»ï¼ˆæ‰“å¼€å¼¹çª—åè‡ªåŠ¨ 3s è½®è¯¢ï¼‰
  - æ”¯æŒåœ¨å¼¹çª—å†…è¾“å…¥é‚€è¯·ç å‘èµ·åŠ å…¥ç”³è¯·
- æˆå‘˜ç®¡ç†ï¼ˆé¡¹ç›®å†…ï¼‰ï¼šæŸ¥çœ‹æˆå‘˜ã€ç§»é™¤æˆå‘˜ï¼ˆä»…æ‰€æœ‰è€…å¯ç§»é™¤ä»–äººï¼Œéæ‰€æœ‰è€…ä»…èƒ½ç§»é™¤è‡ªå·±ï¼‰
- ä¸¥æ ¼æ‰€æœ‰æƒè§„åˆ™ï¼š
  - ä»…é¡¹ç›®æ‰€æœ‰è€…å¯åˆ é™¤é¡¹ç›®
  - ä»…é¡¹ç›®æ‰€æœ‰è€…æˆ–çœ‹æ¿åˆ›å»ºè€…å¯åˆ é™¤/é‡å‘½åçœ‹æ¿
  - è¢«ç§»å‡ºé¡¹ç›®æ—¶å®¢æˆ·ç«¯è‡ªåŠ¨é€€å‡ºå¹¶è¿”å›é¦–é¡µ

### ğŸ—‚ï¸ é¡¹ç›®ä¸çœ‹æ¿
- é¦–é¡µä¼˜å…ˆå±•ç¤ºé¡¹ç›®ï¼Œæä¾›â€œæ˜Ÿæ ‡çœ‹æ¿â€ä¸â€œå¿«é€Ÿè®¿é—®çœ‹æ¿â€åŒº
- åˆ›å»º/é‡å‘½å/åˆ é™¤ é¡¹ç›®ä¸çœ‹æ¿ï¼ˆéµå®ˆæ‰€æœ‰æƒè§„åˆ™ï¼‰
- çœ‹æ¿åˆ‡æ¢å™¨ï¼ˆå¯¼èˆªæ æ ‡é¢˜å¯ç‚¹ï¼‰ï¼š
  - ç‚¹å‡»çœ‹æ¿åæ˜¾ç¤ºä¸‹æ‹‰èœå•
  - æ”¯æŒæœç´¢ã€åˆ›å»ºçœ‹æ¿ï¼ˆä½¿ç”¨æœç´¢æ¡†æ–‡æœ¬ï¼‰ã€é‡å‘½åå½“å‰/å…¶ä»–çœ‹æ¿ã€å¿«é€Ÿåˆ‡æ¢
  - ä¸‹æ‹‰ä¸å±•ç¤ºå·²å½’æ¡£çœ‹æ¿
- é¡¹ç›®åˆ‡æ¢å™¨ï¼ˆé¡¹ç›®é¡µæ ‡é¢˜å¯ç‚¹ï¼‰ï¼šæœç´¢/åˆ‡æ¢/åˆ›å»ºé¡¹ç›®
- é¡¹ç›®åˆ›å»ºä¸å†é»˜è®¤ç”Ÿæˆçœ‹æ¿â€”â€”è‰¯å¥½å¤„ç†â€œæ— çœ‹æ¿â€çŠ¶æ€
- çœ‹æ¿å½’æ¡£ï¼šé¡¹ç›®çœ‹æ¿æ”¯æŒå½’æ¡£/è¿˜åŸï¼›é¡¹ç›®é¡µåº•éƒ¨å¯å±•å¼€â€œå½’æ¡£çš„çœ‹æ¿â€å¹¶æœç´¢
- ç§»åŠ¨çœ‹æ¿ï¼šæ”¯æŒåœ¨é¡¹ç›®é—´ç§»åŠ¨ï¼ˆå¸¦é¡¹ç›®é€‰æ‹©å™¨ä¸æœç´¢ï¼‰
- é¦–é¡µâ€œé¡¹ç›®ç½®å‰â€ï¼šæ”¯æŒå°†æŸé¡¹ç›®å¡ç‰‡ç½®å‰æ˜¾ç¤º
 - çœ‹æ¿ç½®å‰ä¸æ›´å¤šæ“ä½œï¼š
   - ç½®å‰æŒ‰é’®ï¼ˆâ‡§ï¼‰ï¼šä»…åœ¨â€œé¡¹ç›®çœ‹æ¿åˆ—è¡¨â€é¡µæ˜¾ç¤ºï¼Œç”¨äºå°†è¯¥çœ‹æ¿åœ¨æœ¬é¡¹ç›®ä¸­ç½®å‰æ’åºã€‚
   - â€œæ›´å¤š(â€¦)â€æ“ä½œæŒ‰é’®ï¼šåˆå¹¶â€œé‡å‘½å/ç§»åŠ¨/å½’æ¡£â€ä¸ºä¸€ä¸ªèœå•ï¼›â€œåˆ é™¤(âœ•)â€æŒ‰é’®ä¿æŒç‹¬ç«‹ï¼Œå§‹ç»ˆä½äºæ“ä½œåŒºæœ€å³ä¾§ã€‚
   - æ‰“å¼€â€œæ›´å¤š(â€¦)â€èœå•æ—¶ï¼Œå¡ç‰‡çš„æ“ä½œåŒºä¸ä¼šæ¶ˆå¤±ï¼Œä¾¿äºè¿ç»­æ“ä½œï¼ˆç„¦ç‚¹åœ¨èœå•å†…æ—¶ä¿æŒå¯è§ï¼‰ã€‚
- å½’æ¡£çœ‹æ¿åŒºï¼šä¸‰æ æ …æ ¼ï¼Œè®¡æ•°åœ¨é¦–æ¬¡æ¸²æŸ“å³æ­£ç¡®ï¼›ä»å½’æ¡£åŒºâ€œè¿˜åŸâ€çœ‹æ¿åä¿æŒå±•å¼€çŠ¶æ€ä¸å½“å‰æœç´¢ï¼Œä¸ä¼šè‡ªåŠ¨æ”¶èµ·ã€‚

#### çœ‹æ¿å¡ç‰‡æ“ä½œåŒºç¤ºæ„

![çœ‹æ¿å¡ç‰‡æ“ä½œåŒºç¤ºæ„](docs/images/board-card-actions.svg)

## ğŸ§© è®¾è®¡å›¾ï¼ˆArchitecture & Pagesï¼‰

### æ¶æ„å›¾

![ç³»ç»Ÿæ¶æ„å›¾](docs/images/architecture.svg)

### é¡µé¢çº¿æ¡†å›¾ï¼ˆWireframesï¼‰

- ç™»å½•é¡µï¼ˆé‚®ç®±éªŒè¯ç™»å½•ã€å¿˜è®°/é‡ç½®å¯†ç ï¼‰

  ![ç™»å½•é¡µ](docs/images/page-login.svg)

- å·¥ä½œå° / é¦–é¡µï¼ˆæ˜Ÿæ ‡çœ‹æ¿ã€é¡¹ç›®ç®¡ç†ã€æ‰€æœ‰çœ‹æ¿ï¼‰

  ![é¦–é¡µ](docs/images/page-home.svg)

- é¡¹ç›®çœ‹æ¿é¡µï¼ˆçœ‹æ¿åˆ—è¡¨ã€å½’æ¡£çœ‹æ¿åŒºå±•å¼€/æœç´¢ï¼‰

  ![é¡¹ç›®çœ‹æ¿é¡µ](docs/images/page-board-select.svg)

- çœ‹æ¿é¡µï¼ˆåˆ—è¡¨/å¡ç‰‡ã€å†…è”ç¼–è¾‘ã€å¯¼å…¥/å¯¼å‡ºã€å½’æ¡£ç®¡ç†ï¼‰

  ![çœ‹æ¿é¡µ](docs/images/page-board.svg)

- å½’æ¡£é¡µï¼ˆå½’æ¡£ä»»åŠ¡æœç´¢ã€æ¸…ç©ºå½’æ¡£ï¼‰

  ![å½’æ¡£é¡µ](docs/images/page-archive.svg)

- ç®¡ç†å‘˜é¡µï¼ˆç”¨æˆ·åˆ—è¡¨ã€å±æ€§ä¿®æ”¹ã€åˆ é™¤ç”¨æˆ·é™åˆ¶ï¼‰

![ç®¡ç†å‘˜é¡µ](docs/images/page-admin.svg)

### æ—¶åºå›¾ï¼ˆSequence Diagramsï¼‰

- çœ‹æ¿é‡å‘½å/ç§»åŠ¨/åˆ é™¤ ç«¯åˆ°ç«¯æµç¨‹ï¼ˆREST + æ–‡ä»¶å­˜å‚¨ + WS å¹¿æ’­ï¼‰

  ![çœ‹æ¿é‡å‘½å/ç§»åŠ¨/åˆ é™¤](docs/images/seq-board-ops.svg)

- é‚€è¯·ç åŠ å…¥é¡¹ç›®ä¸å®¡æ‰¹æµç¨‹

![åŠ å…¥é¡¹ç›®å®¡æ‰¹](docs/images/seq-join-approval.svg)

### Mermaidï¼ˆæ–‡æœ¬ç‰ˆå›¾ç¤ºï¼‰

> è‹¥ä½ çš„æ¸²æŸ“ç¯å¢ƒæ”¯æŒ Mermaidï¼Œå¯ç›´æ¥æŸ¥çœ‹ä¸‹åˆ—æ–‡æœ¬ç‰ˆå›¾ç¤ºï¼›å¦åˆ™è¯·å‚è€ƒä¸Šé¢çš„ SVG å›¾ç‰‡ç‰ˆæœ¬ã€‚

#### æ¶æ„å›¾ï¼ˆMermaidï¼‰

```mermaid
flowchart LR
  client[Browser SPA\n(public/)]

  subgraph Server[Node.js + Express + ws\n(server.js)]
    api[REST APIs]
    hub[WebSocket Hub]
    mail[(SMTP Mailer)]
  end

  subgraph Storage[File Storage (data/)]
    users[(users.json)]
    projects[(projects.json)]
    boards[({projectId}_{board}.json)]
    backups[(backups/)]
  end

  client -- Fetch --> api
  client <--> hub
  api --> users
  api --> projects
  api --> boards
  api --> backups
  api --> mail
```

#### çœ‹æ¿é‡å‘½å/ç§»åŠ¨/åˆ é™¤ï¼ˆMermaid æ—¶åºï¼‰

```mermaid
sequenceDiagram
  autonumber
  participant C as Client (SPA)
  participant S as Server (Express)
  participant D as Data Files (data/)

  rect rgb(245,245,245)
    Note over C,S: Rename Board
    C->>S: POST /api/rename-board
    S->>D: Rename {pid}_{old}.json â†’ {pid}_{new}.json
    S->>D: Update projects.json (boards, boardOwners)
    S->>D: Update users.json stars/pins (boardName)
    S-->>C: 200 OK
    S-->>C: WS board-renamed
  end

  rect rgb(245,245,245)
    Note over C,S: Move Board
    C->>S: POST /api/move-board
    S->>D: Move file to {toPid}_{board}.json
    S->>D: Update projects.json (fromâ†’to)
    S->>D: Update users.json stars projectId; clear pinnedBoards[from]
    S-->>C: 200 OK
    S-->>C: WS board-moved
  end

  rect rgb(245,245,245)
    Note over C,S: Delete Board
    C->>S: DELETE /api/delete-board
    S->>D: Remove {pid}_{board}.json
    S->>D: Clean users.json stars/pins for this board
    S-->>C: 200 OK
  end
```

#### é‚€è¯·ç åŠ å…¥ä¸å®¡æ‰¹ï¼ˆMermaid æ—¶åºï¼‰

```mermaid
sequenceDiagram
  autonumber
  participant U as Applicant (Client)
  participant S as Server (Express)
  participant P as Project Data (projects.json)

  U->>S: POST /api/join-project (inviteCode)
  S->>P: pendingRequests += user
  S-->>U: 200 OK (submitted)
  S-->>U: WS join-request (to project participants)

  participant O as Owner (Client)
  O->>S: POST /api/approve-join (or equivalent)
  S->>P: members += user; remove pendingRequests
  S-->>O: 200 OK
  S-->>U: WS member-added
```

#### é¡µé¢å¯¼èˆª / çŠ¶æ€æµï¼ˆMermaidï¼‰

```mermaid
flowchart LR
  Login[ç™»å½•/æ³¨å†Œ] --> Home[é¦–é¡µ/å·¥ä½œå°]
  Home -->|é€‰æ‹©é¡¹ç›®| ProjectBoards[é¡¹ç›®çœ‹æ¿é¡µ]
  Home -->|ç‚¹å‡»æ˜Ÿæ ‡çœ‹æ¿| Board[çœ‹æ¿é¡µ]
  ProjectBoards -->|é€‰æ‹©çœ‹æ¿| Board
  Board -->|å½’æ¡£ç®¡ç†| Archive[å½’æ¡£é¡µ]
  Archive -->|è¿”å›| Board
  Board -->|è¿”å›é¡¹ç›®| ProjectBoards
  ProjectBoards -->|è¿”å›é¦–é¡µ| Home
  Home -->|é€€å‡º| Login

  subgraph State[æŒä¹…åŒ–çŠ¶æ€]
    LS[(localStorage\nuser/page/project/board)]
    H[history.pushState / replaceState]
  end
  Home -.persist.-> LS
  ProjectBoards -.persist.-> LS
  Board -.persist.-> LS
  Archive -.persist.-> LS
  Home -.history.-> H
  ProjectBoards -.history.-> H
  Board -.history.-> H
  Archive -.history.-> H
```

#### æ¨¡å—ä¾èµ–å›¾ï¼ˆMermaidï¼‰

```mermaid
flowchart TB
  subgraph Client
    App[SPA app.js]
  end
  subgraph Server[Express + ws]
    Auth[/Auth/]
    Projects[/Projects/]
    Boards[/Boards/]
    Stars[/Stars/]
    Pins[/Pins/]
    Admin[/Admin/]
    IO[/Import/Export/]
    Hub[WebSocket Hub]
  end
  subgraph Storage[data/]
    U[(users.json)]
    P[(projects.json)]
    F[({pid}_{board}.json)]
    BK[(backups/)]
  end

  App --> Auth
  App --> Projects
  App --> Boards
  App --> Stars
  App --> Pins
  App --> Admin
  App --> IO
  App <--> Hub

  Auth --> U
  Projects --> P
  Boards --> P
  Boards --> F
  IO --> F
  Stars --> U
  Pins --> U
  Admin --> U
  Boards -.å¤‡ä»½.-> BK
```

#### æ•°æ®æ¨¡å‹ï¼ˆMermaid ç±»å›¾ï¼‰

```mermaid
classDiagram
  class User {
    +string username
    +string passwordHash
    +bool verified
    +bool admin
    +string[] projects
    +Star[] stars
    +string[] pinnedProjects
    +map~string,string[]~ pinnedBoards
    +string[] pinnedStarBoards
  }

  class Star {
    +string projectId
    +string boardName
    +string projectName
    +number starredAt
  }

  class Project {
    +string id
    +string name
    +string inviteCode
    +string owner
    +string[] members
    +string[] boards
    +string[] archivedBoards
    +map~string,string~ boardOwners
    +string created
    +Request[] pendingRequests
    +string[] pendingInvites
  }

  class BoardData {
    +Card[] todo
    +Card[] doing
    +Card[] done
    +Card[] archived
    +ListsMeta lists
  }

  class ListsMeta {
    +string[] listIds
    +map~string,ListMeta~ lists
  }
  class ListMeta {
    +string id
    +string title
    +number pos
    +string status
  }

  class Card {
    +string id
    +string title
    +string description
    +string assignee
    +string deadline
    +string author
    +string created
    +number commentsCount
    +string[] labels
  }

  class Request {
    +string username
    +string created
  }

  User "1" o-- "*" Star
  User "1" o-- "*" Project : via id in projects[]
  Project "1" o-- "*" BoardData : via boards[]
  Project "1" o-- "*" Request : pendingRequests
```

## ğŸ” æƒé™çŸ©é˜µï¼ˆç®€åŒ–ï¼‰

| åŠ¨ä½œ | é¡¹ç›®æ‰€æœ‰è€… | çœ‹æ¿åˆ›å»ºè€… | é¡¹ç›®æˆå‘˜ |
|---|---|---|---|
| åˆ›å»ºçœ‹æ¿ | âœ… | âœ… | âœ… |
| é‡å‘½åçœ‹æ¿ | âœ… | âœ… | âŒ |
| ç§»åŠ¨çœ‹æ¿åˆ°å…¶ä»–é¡¹ç›® | âœ… | âœ…ï¼ˆä¸”ç›®æ ‡é¡¹ç›®æˆå‘˜ï¼‰ | âŒ |
| å½’æ¡£/è¿˜åŸçœ‹æ¿ | âœ… | âœ… | âŒ |
| åˆ é™¤çœ‹æ¿ | âœ… | âœ… | âŒ |
| é‡å‘½åé¡¹ç›® | âœ… | âŒ | âŒ |
| åˆ é™¤é¡¹ç›® | âœ… | âŒ | âŒ |
| æ·»åŠ /ç§»é™¤æˆå‘˜ | âœ…ï¼ˆç§»é™¤ä»–äººï¼‰ | âŒ | è‡ªè¡Œé€€å‡º |
| å®¡æ‰¹åŠ å…¥ç”³è¯· | âœ… | âŒ | âŒ |
| æ˜Ÿæ ‡/å–æ¶ˆæ˜Ÿæ ‡ | âœ… | âœ… | âœ… |
| ç½®å‰é¡¹ç›® | âœ… | âœ… | âœ…ï¼ˆé¡¹ç›®æˆå‘˜å³å¯ï¼‰ |
| ç½®å‰çœ‹æ¿ï¼ˆé¡¹ç›®é¡µï¼‰ | âœ… | âœ… | âœ…ï¼ˆé¡¹ç›®æˆå‘˜å³å¯ï¼‰ |
| æ˜Ÿæ ‡åŒºç½®å‰ | âœ… | âœ… | âœ… |

> æ³¨ï¼šæœåŠ¡ç«¯å·²åœ¨ç›¸å…³ API ä¸­è¿›è¡Œæƒé™æ ¡éªŒï¼›å‰ç«¯å°†â€œæ›´å¤š(â€¦)â€ä¸â€œåˆ é™¤(âœ•)â€æŒ‰æƒé™æ˜¾ç¤º/éšè—ã€‚

## ğŸ¨ UI ä¸»é¢˜ä¸äº¤äº’è§„èŒƒï¼ˆæ‘˜å½•ï¼‰

- é¢œè‰²ä¸è¯­ä¹‰
  - æ–‡å­—ï¼š#111827 / æ¬¡è¦ #374151 / è¾…åŠ© #6b7280
  - ä¸»è‰²ï¼š#3b82f6ï¼ˆæŒ‰é’®/é«˜äº®ï¼‰ï¼Œå±é™©ï¼š#dc2626ï¼ˆåˆ é™¤ï¼‰
  - è¾¹æ¡†ï¼š#e5e7ebï¼Œå¡ç‰‡ hover è¾¹ï¼švar(--primary-light)
- å°ºå¯¸ä¸é—´è·
  - å¡ç‰‡åœ†è§’ï¼š10â€“12pxï¼›æŒ‰é’®åœ†è§’ï¼š6â€“8px
  - åˆ—é—´è·ï¼š12pxï¼›å¡ç‰‡é—´è·ï¼š12pxï¼›çœ‹æ¿ä¸‰æ å¸ƒå±€
  - å¸¸ç”¨æŒ‰é’®å¤§å°ï¼š32Ã—32ï¼ˆæ“ä½œåŒºå°æŒ‰é’®ï¼‰
- å­—ä½“
  - ç³»ç»Ÿå­—ä½“æ ˆï¼ˆsystem-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arialï¼‰
  - æ ‡é¢˜ 16â€“18pxï¼Œæ­£æ–‡ 13â€“14px
- äº¤äº’çŠ¶æ€
  - Hoverï¼šè½»è‰²èƒŒæ™¯/è¾¹æ¡†å¢å¼ºï¼›Focus-visibleï¼šæ¸…æ™°çš„æè¾¹ä¸é˜´å½±
  - æ“ä½œåŒºæ˜¾ç¤ºï¼šæ‚¬åœæ˜¾ç¤ºï¼›æ‰“å¼€â€œæ›´å¤š(â€¦)â€èœå•æ—¶ä¸ºå¡ç‰‡åŠ  hold-actionsï¼Œä¿æŒæ˜¾ç¤º
  - åˆ é™¤(âœ•)ï¼šå§‹ç»ˆç½®äºæ“ä½œåŒºæœ€å³ï¼›æ›´å¤š(â€¦) åˆå¹¶é‡å‘½å/ç§»åŠ¨/å½’æ¡£
- æ …æ ¼ä¸å“åº”å¼
  - é¦–é¡µå¡ç‰‡ä¸é¡¹ç›®é¡µå¡ç‰‡ï¼šä¸‰æ ï¼ˆå®½å±ï¼‰ï¼Œä¸¤æ ï¼ˆä¸­å±ï¼‰ï¼›å½’æ¡£çœ‹æ¿åˆ—è¡¨å›ºå®šä¸‰æ 
  - å½’æ¡£é¡µä»»åŠ¡ï¼šå•åˆ—ï¼Œä¸æ™®é€šå¡ç‰‡æ ·å¼ä¸€è‡´

## ğŸ§¾ æ ·å¼ç´¢å¼•ï¼ˆStyle Indexï¼‰

ä¸»è¦æ ·å¼æ–‡ä»¶ï¼š`public/style.css`

- ç»“æ„è¯´æ˜ï¼šæ–‡ä»¶é¡¶éƒ¨å«â€œCSS Structure Indexâ€ï¼Œå¯æŒ‰â€œSECTION:â€ æ ‡ç­¾å¿«é€Ÿå®šä½ï¼š
  - SECTION: Variables & Resets
  - SECTION: Layout & Containers
  - SECTION: Headers & Breadcrumbsï¼ˆå«çœ‹æ¿/é¡¹ç›®é¡µé¢åŒ…å±‘ã€é“¾æ¥æ ·å¼ä¸å­—å·å¯¹é½ï¼‰
  - SECTION: Pagesï¼ˆProject / Board Select / Board / Archive çš„å¤´éƒ¨ä¸é¡µé¢ç‰¹å®šè§„åˆ™ï¼‰
  - SECTION: Componentsï¼ˆçœ‹æ¿å¡ç‰‡ã€åˆ—è¡¨ã€é¡¹ç›®/çœ‹æ¿å¡ç‰‡ã€æŒ‰é’®ç­‰ï¼‰
  - SECTION: Actions Menus / Switchersï¼ˆä¸‹æ‹‰èœå•ã€æ›´å¤šèœå•ã€åˆ‡æ¢å™¨ï¼‰
  - SECTION: Gridsï¼ˆå½’æ¡£çœ‹æ¿ä¸‰æ ã€é¡¹ç›®é¡µå·¥å…·ä¸¤åˆ—ï¼‰
  - SECTION: Buttons & Utilitiesï¼ˆæŒ‰é’®æ€ã€é€šç”¨å·¥å…·ç±»ï¼‰
  - SECTION: Dark Mode Overridesï¼ˆæ·±è‰²æ¨¡å¼è¦†ç›–ï¼‰
  - SECTION: Responsiveï¼ˆæ–­ç‚¹é€‚é…ï¼‰

ç»´æŠ¤å»ºè®®ï¼šä¼˜å…ˆä¿®æ”¹ç»„ä»¶å±‚ï¼Œå†é€šè¿‡é¡µé¢æ®µè½åšè½»é‡è¦†ç›–ï¼›é¿å…é‡å¤å£°æ˜å­—å·/é—´è·ã€‚


### ğŸ§± Trello å¼å¡ç»„ï¼ˆListï¼‰
- åŠ¨æ€å¡ç»„ï¼ˆå®¢æˆ·ç«¯ lists å…ƒæ•°æ®ï¼‰ï¼šæ–°å¢/é‡å‘½å/åˆ é™¤ï¼Œé¡ºåºæŒä¹…åŒ–
- å¡ç»„æ‹–æ‹½æ’åºï¼šåˆ—è¡¨å¤´/æ ‡é¢˜ä¸ºæ‰‹æŸ„ï¼›é‡Šæ”¾åä¿å­˜é¡ºåºï¼ˆå®¹å™¨å•ä¸€ ondragoverï¼‰
- è®¾è®¡è§„èŒƒï¼ˆè§ `public/style.css`ï¼‰ï¼šåˆ—å®½ 272pxã€é—´è· 12pxã€åˆ—èƒŒæ™¯ #ebecf0ï¼Œæ ·å¼ä½œç”¨åŸŸ `#boardPage`

### ğŸ“ å¡ç‰‡ï¼ˆCardï¼‰ä¸å†…è”ç¼–è¾‘
- æ ‡é¢˜/æè¿°å†…è”ç¼–è¾‘ï¼šå¤šè¡Œã€ç»å¯¹å®šä½é”é«˜ï¼Œé¿å…æŠ–åŠ¨ï¼›Esc å–æ¶ˆï¼›Ctrl/Cmd+Enter ä¿å­˜
- è´Ÿè´£äººä¸æˆªæ­¢æ—¥æœŸï¼šæµ®å±‚é€‰æ‹©ä¸å›ºå®šå°ºå¯¸çš„æ—¥æœŸè¾“å…¥ï¼Œä¸æ”¹å˜å¸ƒå±€
- è¯„è®º/å¸–å­ï¼ˆPostsï¼‰ï¼šè¯¦æƒ…æŠ½å±‰å†…åµŒè¯„è®ºåˆ—è¡¨ä¸è¾“å…¥æ¡†ï¼›å¡ç‰‡æ­£é¢æ˜¾ç¤ºè¯„è®ºæ•°å¾½æ ‡ï¼›æŠ½å±‰æ‰“å¼€æ—¶æ”¶åˆ°æ›´æ–°è‡ªåŠ¨åˆ·æ–°
- å½’æ¡£ï¼šå¡ç‰‡å¯å½’æ¡£/è¿˜åŸï¼›å½’æ¡£é¡µæ”¯æŒåˆ é™¤ï¼›çœ‹æ¿æ”¯æŒå½’æ¡£/è¿˜åŸï¼ˆé¡¹ç›®é¡µä¸‹æ–¹ï¼‰
- å¿«é€Ÿæ·»åŠ ï¼š
  - åˆ—åº•éƒ¨â€œæ·»åŠ å¡ç‰‡â€ composerï¼ˆEnter æäº¤ï¼ŒEsc å–æ¶ˆï¼‰
  - åˆ—ç©ºç™½å¤„æŒ‰ Enter å¿«é€Ÿå±•å¼€ composer
  - æäº¤å composer ä¿æŒæ‰“å¼€ï¼Œä¾¿äºè¿ç»­æ·»åŠ 

### â†”ï¸ æ‹–æ‹½ä¸æ’åº
- åˆ—å†…æ‹–æ‹½æ’åºï¼šæ‹–æ‹½å¡ç‰‡æ”¹å˜åŒåˆ—é¡ºåºå¹¶æŒä¹…åŒ–
- è·¨åˆ—ç§»åŠ¨ï¼šæ‹–æ‹½åˆ°å…¶ä»–åˆ—è‡ªåŠ¨å‘é€ç§»åŠ¨æ¶ˆæ¯å¹¶æ›´æ–°
- å¡ç»„æ‹–æ‹½ï¼šé‡Šæ”¾åä¿å­˜ lists é¡ºåºï¼ˆå®¹å™¨å•ä¸€ ondragoverï¼‰

### â¬†ï¸ å¯¼å…¥/å¯¼å‡ºä¸å¤‡ä»½
- I/O èœå•ï¼šå¯¼èˆªâ€œå¯¼å…¥/å¯¼å‡ºâ€ä¸‹æ‹‰ï¼ˆå¯¼å…¥æ–‡ä»¶ã€ç²˜è´´æ–‡æœ¬å¯¼å…¥ã€å¯¼å‡º Markdown/JSONï¼‰
- å¯¼å…¥ JSON/Markdownï¼šæ”¯æŒåˆå¹¶æˆ–è¦†ç›–ä¸¤ç§æ¨¡å¼ï¼›æ”¯æŒâ€œç²˜è´´æ–‡æœ¬å¯¼å…¥â€
- å¯¼å‡º Markdown/JSONï¼šæ›´ç¨³å¥çš„å¤šç­–ç•¥ä¸‹è½½å…¼å®¹
- è‡ªåŠ¨å¤‡ä»½ï¼šæ¯æ¬¡å†™å…¥åœ¨ `data/backups/` ç”Ÿæˆæ—¶é—´æˆ³ç‰ˆæœ¬ï¼Œä¿ç•™æœ€è¿‘ 50 ä»½

### â­ æ˜Ÿæ ‡çœ‹æ¿ï¼ˆæœåŠ¡å™¨æŒä¹…åŒ–ï¼‰
- æ˜Ÿæ ‡åˆ—è¡¨ä¸ºæ¯ä¸ªç”¨æˆ·æœåŠ¡å™¨æŒä¹…åŒ–ï¼ˆéæœ¬åœ°å­˜å‚¨ï¼‰
- é¦–é¡µä¸é¡¹ç›®é¡µçœ‹æ¿å¡ç‰‡æä¾›æ˜Ÿæ ‡æŒ‰é’®ï¼›é¡¶éƒ¨â€œæ˜Ÿæ ‡çœ‹æ¿â€åŒºæŒ‰æœ€è¿‘åŠ æ˜Ÿæ—¶é—´å€’åºå±•ç¤º
- é‡å‘½å/ç§»åŠ¨/åˆ é™¤çœ‹æ¿åä¼šåŒæ­¥æ›´æ–°æ˜Ÿæ ‡è®°å½•ï¼›è·¨é¡¹ç›®ç§»åŠ¨åæ˜Ÿæ ‡ä»ä¿ç•™
 - ç‹¬ç«‹çš„æ˜Ÿæ ‡ç½®å‰é¡ºåºï¼šæ˜Ÿæ ‡åŒºæ”¯æŒå•ç‹¬çš„â€œç½®å‰(â‡§)â€æŒ‰é’®ä¸æ’åºï¼Œä¸å½±å“é¡¹ç›®å†…çš„çœ‹æ¿æ’åºã€‚

### ğŸ§­ å†å²ä¸çŠ¶æ€ï¼ˆæ— é—ªçƒï¼‰
- å‰è¿›/åé€€å¯åœ¨â€œé¦–é¡µ/é¡¹ç›®é¡µ/çœ‹æ¿/å½’æ¡£é¡µâ€ä¹‹é—´åˆ‡æ¢
- æœ¬åœ°è®°å¿†ï¼šç”¨æˆ·/é¡µé¢/é¡¹ç›®/çœ‹æ¿çŠ¶æ€ï¼ˆlocalStorageï¼‰ï¼Œåˆ·æ–°åæ¢å¤
- æ— é—ªçƒæ¸²æŸ“ï¼šç¦»çº¿æ„å»º + å ä½æ˜¾ç¤ºã€æ»šåŠ¨ä½ç½®æ¢å¤ã€é¦–æ¡ WS æ›´æ–°æŠ‘åˆ¶ã€ç¼–è¾‘ä¸­å»¶è¿Ÿé‡æ¸²æŸ“
- æˆå‘˜èµ„æ ¼å®ˆæŠ¤ï¼šè¢«ç§»å‡ºé¡¹ç›®æ—¶ 2s å†…è‡ªåŠ¨é€€å‡ºå¹¶æç¤º

### âŒ¨ï¸ é”®ç›˜å¿«æ·é”®
- Enterï¼š
  - åˆ—ç©ºç™½å¤„ï¼šæ‰“å¼€â€œæ·»åŠ å¡ç‰‡â€
  - composer ä¸­ï¼šEnter æäº¤ï¼ŒShift+Enter æ¢è¡Œ
  - åŠ¨æ€å¯¹è¯æ¡†ï¼šEnter ç¡®è®¤
- Escï¼šå…³é—­æœ€é¡¶å±‚åŠ¨æ€å¼¹çª—/æŠ½å±‰/å¯¹è¯æ¡†/å¯¼å…¥å¼¹çª—/æˆå‘˜ä¸é‚€è¯·å¼¹çª—/åˆ›å»ºä¸åŠ å…¥é¡¹ç›®å±‚
- Ctrl/Cmd+Enterï¼šä¿å­˜æ ‡é¢˜/æè¿°ç­‰å†…è”ç¼–è¾‘ä¸æŠ½å±‰æè¿°

## ğŸ§­ ä½¿ç”¨æŒ‡å—

### è´¦å·ä¸é¡¹ç›®
1. æ³¨å†Œåå‰å¾€é‚®ç®±éªŒè¯ï¼Œå†ç™»å½•
2. é¦–é¡µåˆ›å»ºé¡¹ç›®ï¼Œæˆ–åœ¨â€œé‚€è¯·ç®¡ç†â€ä¸­è¾“å…¥é‚€è¯·ç å‘èµ·åŠ å…¥ç”³è¯·
3. è¿›å…¥é¡¹ç›®é€‰æ‹©çœ‹æ¿ï¼Œæˆ–åœ¨å¯¼èˆªæ ç‚¹å‡»çœ‹æ¿åæ‰“å¼€åˆ‡æ¢å™¨è¿›è¡Œåˆ‡æ¢/åˆ›å»º/é‡å‘½åï¼ˆä¸‹æ‹‰ä¸å±•ç¤ºå·²å½’æ¡£çœ‹æ¿ï¼‰

### ğŸ¬ å½•å±ç”Ÿæˆ GIFï¼ˆå»ºè®®æ”¾åœ¨ PR æˆ–å‘å¸ƒè¯´æ˜ä¸­ï¼‰

- macOSï¼ˆæ¨èï¼‰ï¼š
  - å½•å±ï¼šæŒ‰ Command+Shift+5 é€‰æ‹©â€œå½•åˆ¶æ‰€é€‰åŒºåŸŸâ€ï¼Œä¿å­˜ä¸º `.mov`ã€‚
  - è½¬ GIFï¼ˆéœ€è¦ ffmpeg ä¸ gifskiï¼‰ï¼š
    ```bash
    # ä½¿ç”¨ Homebrew å®‰è£…
    brew install ffmpeg gifski
    # å…ˆç¼©æ”¾å¹¶å¯¼å‡ºé«˜è´¨é‡ GIFï¼ˆ12fpsï¼Œå¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ï¼‰
    ffmpeg -i screen.mov -vf "fps=12,scale=960:-1:flags=lanczos" -f gif - | gifski -o demo.gif --fps 12 --quality 80 -
    ```

- Windowsï¼š
  - å½•å±ï¼šå¯ä½¿ç”¨ PowerToys çš„å±å¹•å½•åƒæˆ– OBS å½•åˆ¶ä¸º `.mp4`ã€‚
  - è½¬ GIFï¼ˆä½¿ç”¨è°ƒè‰²æ¿æé«˜æ¸…æ™°åº¦ï¼‰ï¼š
    ```bash
    ffmpeg -y -i screen.mp4 -vf "fps=12,scale=960:-1:flags=lanczos,palettegen" palette.png
    ffmpeg -i screen.mp4 -i palette.png -lavfi "fps=12,scale=960:-1:flags=lanczos,paletteuse" demo.gif
    ```

- Linuxï¼š
  - å½•å±ï¼šå¯ç”¨ Peekï¼ˆGUIï¼‰æˆ– ffmpeg ç›´æ¥å½•åˆ¶ X11/Waylandã€‚
  - ä¾‹ï¼šç”¨ ffmpeg å½•åˆ¶å¹¶è½¬ GIFï¼š
    ```bash
    # å½•åˆ¶å±å¹•åŒºåŸŸåˆ° mp4ï¼ˆè‡ªè¡Œè°ƒæ•´ -video_size ä¸ -offsetï¼‰
    ffmpeg -f x11grab -video_size 1280x720 -framerate 30 -i :0.0+100,200 -c:v libx264 -preset ultrafast screen.mp4
    # ç”Ÿæˆé«˜è´¨é‡ GIF
    ffmpeg -y -i screen.mp4 -vf "fps=12,scale=960:-1:flags=lanczos,palettegen" palette.png
    ffmpeg -i screen.mp4 -i palette.png -lavfi "fps=12,scale=960:-1:flags=lanczos,paletteuse" demo.gif
    ```

å°è´´å£«ï¼š
- å»ºè®®æ§åˆ¶åˆ†è¾¨ç‡ï¼ˆå¦‚å®½åº¦ 960pxï¼‰ä¸å¸§ç‡ï¼ˆå¦‚ 10â€“12fpsï¼‰ï¼Œåœ¨æ¸…æ™°åº¦ä¸ä½“ç§¯é—´å–å¾—å¹³è¡¡ã€‚
- å¯ç”¨ `gifsicle -O3 demo.gif -o demo.min.gif` è¿›ä¸€æ­¥å‹ç¼©ä½“ç§¯ã€‚

### çœ‹æ¿ä¸å¡ç‰‡
- æ¯ä¸ªå¡ç»„åº•éƒ¨æä¾›â€œæ·»åŠ å¡ç‰‡â€å…¥å£ï¼ˆç‚¹å‡»å±•å¼€ã€Enter æ·»åŠ ã€Esc å–æ¶ˆï¼‰ï¼Œåœ¨åˆ—è¡¨ç©ºç™½å¤„æŒ‰ Enter ä¹Ÿå¯å±•å¼€ï¼›æäº¤åä¿æŒæ‰“å¼€ä¾¿äºè¿ç»­æ·»åŠ 
- å¡ç‰‡æ­£é¢ï¼šæ ‡ç­¾ç‚¹ã€æ ‡é¢˜ã€å¾½æ ‡è¡Œï¼ˆæè¿°/è¯„è®º/æˆªæ­¢æ—¥æœŸ/è´Ÿè´£äººï¼‰
- ç‚¹å‡»å¡ç‰‡æ‰“å¼€è¯¦æƒ…æŠ½å±‰ï¼Œæˆ–ç‚¹å‡»æ ‡é¢˜/æè¿°è¿›å…¥å†…è”ç¼–è¾‘
- å½’æ¡£é¡µæ”¯æŒæœç´¢è¿‡æ»¤ï¼ˆæ ‡é¢˜/æè¿°/æ ‡ç­¾/è´Ÿè´£äººï¼‰

## ğŸ”Œ API å‚è€ƒï¼ˆæ‘˜è¦ï¼‰

### è®¤è¯ä¸é‚®ç®±
- POST `/api/register` { username, password, email }
- POST `/api/login` { username, password }ï¼ˆæ”¯æŒé‚®ç®±ç™»å½•ï¼‰
- GET `/api/verify?token=...` é‚®ç®±éªŒè¯å›è°ƒ
- POST `/api/resend-verification` { username }ï¼ˆ60s é¢‘ç‡é™åˆ¶ï¼‰
- POST `/api/forgot-password` { email? | username? }ï¼ˆ60s é¢‘ç‡é™åˆ¶ï¼‰
- POST `/api/reset-password` { token, newPassword }
- POST `/api/change-password` { username, oldPassword, newPassword }

### é¡¹ç›®ä¸çœ‹æ¿
- GET `/api/user-projects/:username`
- POST `/api/create-project` { username, projectName }
- POST `/api/rename-project` { projectId, newName }
- DELETE `/api/delete-project` { projectId, actor }
- GET `/api/project-boards/:projectId` â†’ { inviteCode, members, boards, owner, boardOwners, archivedBoards }
- POST `/api/create-board` { projectId, boardName, actor }
- POST `/api/rename-board` { projectId, oldName, newName, actor }
- POST `/api/archive-board` { projectId, boardName, actor }
- POST `/api/unarchive-board` { projectId, boardName, actor }
- POST `/api/move-board` { fromProjectId, toProjectId, boardName, actor }
- DELETE `/api/delete-board` { projectId, boardName, actor }
- GET `/api/board/:projectId/:boardName`
- GET `/api/export/:projectId/:boardName` â†’ Markdown ä¸‹è½½
- GET `/api/export-json/:projectId/:boardName` â†’ JSON ä¸‹è½½

### æˆå‘˜ä¸é‚€è¯·
- GET `/api/user-invites/:username`
- POST `/api/accept-invite` { username, projectId }
- POST `/api/decline-invite` { username, projectId }
- GET `/api/user-approvals/:username`
- GET `/api/join-requests/:projectId`
- POST `/api/join-project` { username, inviteCode }
- POST `/api/approve-join` { projectId, username, actor }
- POST `/api/deny-join` { projectId, username, actor }
- POST `/api/remove-project-member` { projectId, username, actor }
- POST `/api/regenerate-invite-code` { projectId, actor }
- POST `/api/request-add-member` { projectId, username, actor } ï¼ˆé¡¹ç›®å†…å‘èµ·æ·»åŠ è¯·æ±‚ï¼‰

### æ˜Ÿæ ‡ä¸ç½®å‰
- GET `/api/user-stars/:username` â†’ { stars }
- POST `/api/user-stars/toggle` { username, projectId, boardName, projectName } â†’ { stars, starred }
- POST `/api/user-pins/pin` { username, projectId } ï¼ˆé¦–é¡µé¡¹ç›®ç½®å‰ï¼‰
 - GET `/api/user-board-pins/:username/:projectId` â†’ { pins }ï¼ˆé¡¹ç›®å†…çœ‹æ¿ç½®å‰é¡ºåºï¼‰
 - POST `/api/user-board-pins/pin` { username, projectId, boardName } â†’ { pins }ï¼ˆç½®å‰æŒ‡å®šçœ‹æ¿è‡³é¡¹ç›®å†…åˆ—è¡¨æœ€å‰ï¼‰
 - GET `/api/user-star-pins/:username` â†’ { pins }ï¼ˆæ˜Ÿæ ‡åˆ—è¡¨çš„ç½®å‰é¡ºåºï¼Œä»…å½±å“æ˜Ÿæ ‡åŒºï¼‰
 - POST `/api/user-star-pins/pin` { username, projectId, boardName } â†’ { pins }ï¼ˆç½®å‰æŒ‡å®šæ˜Ÿæ ‡çœ‹æ¿è‡³æ˜Ÿæ ‡åŒºæœ€å‰ï¼‰

### ç®¡ç†å‘˜
- POST `/api/admin/login` { username, password }
- POST `/api/admin/logout` Bearer token
- GET `/api/admin/users` Bearer token
- PATCH `/api/admin/users/:username` { verified?, admin?, password? } Bearer token
- DELETE `/api/admin/users/:username` Bearer tokenï¼ˆè‹¥ç”¨æˆ·æ˜¯ä»»ä¸€é¡¹ç›®æ‰€æœ‰è€…å°†è¢«é˜»æ­¢ï¼‰

> æ³¨ï¼šå®¢æˆ·ç«¯é€šè¿‡ WebSocket åŒæ­¥çœ‹æ¿å˜æ›´ï¼›å½’æ¡£çœ‹æ¿ä¸ä¼šå‡ºç°åœ¨é¦–é¡µ/é¡¹ç›®çœ‹æ¿åˆ—è¡¨ä¸­ï¼ˆå¯åœ¨é¡¹ç›®é¡µåº•éƒ¨å±•å¼€â€œå½’æ¡£çš„çœ‹æ¿â€å¹¶æœç´¢ã€è¿˜åŸæˆ–åˆ é™¤ï¼‰ã€‚

## ğŸŒ WebSocket æ¶ˆæ¯ï¼ˆå…³é”®ç±»å‹ï¼‰
- `join` åŠ å…¥çœ‹æ¿
- `board-update` çœ‹æ¿æ•°æ®æ›´æ–°ï¼ˆå« lists å…ƒä¿¡æ¯ä¸å„åˆ—å¡ç‰‡ï¼‰
- `user-list` åœ¨çº¿ç”¨æˆ·æ›´æ–°
- `card-editing` æŸå¡ç‰‡è¢«ç”¨æˆ·ç¼–è¾‘/é‡Šæ”¾
- `add-card` / `update-card` / `delete-card`
- `move-card` / `reorder-cards`
- `archive-card` / `restore-card` / `clear-archive`
- `save-lists` ä¿å­˜å¡ç»„å…ƒä¿¡æ¯ï¼ˆæ–°å¢/é‡å‘½å/åˆ é™¤/æ’åºï¼‰
- `import-board` å¯¼å…¥æ•°æ®ï¼ˆmerge/overwriteï¼‰
- `project-renamed` / `board-renamed` / `board-moved` / `project-deleted` / `member-removed` / `member-added` / `join-request` / `import-success` / `error`

## ğŸ—ƒï¸ æ•°æ®æ¨¡å‹ï¼ˆè¦ç‚¹ï¼‰

### projects.jsonï¼ˆç¤ºæ„ï¼‰
```json
{
  "pid123": {
    "name": "é¡¹ç›®A",
    "inviteCode": "ABC123",
    "owner": "alice",
    "created": "2024-01-01T00:00:00.000Z",
    "members": ["alice", "bob"],
    "boards": ["é»˜è®¤çœ‹æ¿", "è¿­ä»£ä¸€"],
    "boardOwners": { "é»˜è®¤çœ‹æ¿": "alice" },
    "pendingRequests": []
  }
}
```

### {projectId}_{board}.jsonï¼ˆç¤ºæ„ï¼‰
```json
{
  "todo": [],
  "doing": [],
  "done": [],
  "archived": [],
  "lists": {
    "listIds": ["todo", "doing", "done"],
    "lists": {
      "todo": { "id": "todo", "title": "å¾…åŠ", "pos": 0, "status": "todo" },
      "doing": { "id": "doing", "title": "è¿›è¡Œä¸­", "pos": 1, "status": "doing" },
      "done": { "id": "done", "title": "å·²å®Œæˆ", "pos": 2, "status": "done" }
    }
  }
}
```

### å¡ç‰‡ï¼ˆå¯èƒ½åŒ…å«çš„å¯é€‰å­—æ®µï¼‰
- labels: string[]
- checklist?: { items?: {text:string,done:boolean}[], done:number, total:number }
- commentsCount?: number
- attachmentsCount?: number
- priority?: "low"|"med"|"high"
- posts?: { id:string, author:string, text:string, created:string, edited?:string }[]

## â±ï¸ é¢‘ç‡é™åˆ¶
- é‡æ–°å‘é€éªŒè¯é‚®ä»¶ï¼šåŒä¸€ç”¨æˆ· 60s ä¸€æ¬¡
- å¿˜è®°å¯†ç é‚®ä»¶ï¼šåŒä¸€ç”¨æˆ· 60s ä¸€æ¬¡

## ğŸ’¾ å¤‡ä»½ç­–ç•¥
- æ¯æ¬¡æ•°æ®å†™å…¥éƒ½ä¼šåœ¨ `data/backups/` ç”Ÿæˆæ—¶é—´æˆ³å¤‡ä»½æ–‡ä»¶
- æ–‡ä»¶åï¼š`{projectId}_{boardName}_{ISOæ—¶é—´}.json`
- å®šæ—¶æ¸…ç†ï¼šä»…ä¿ç•™æœ€è¿‘ 50 ä»½

## ğŸ“ é¡¹ç›®ç»“æ„

```
kanban/
â”œâ”€â”€ public/                 # å‰ç«¯èµ„æºï¼ˆVanilla JSï¼‰
â”‚   â”œâ”€â”€ index.html          # å•é¡µåº”ç”¨
â”‚   â”œâ”€â”€ app.js              # å‰ç«¯é€»è¾‘ï¼ˆWSã€å†…è”ç¼–è¾‘ã€æ‹–æ‹½ã€é‚€è¯·/æˆå‘˜/æ˜Ÿæ ‡/åˆ‡æ¢å™¨ç­‰ï¼‰
â”‚   â”œâ”€â”€ style.css           # Trello é£æ ¼ä¸å¸ƒå±€ã€å†…è”ç¼–è¾‘ç¨³å®šæ ·å¼
â”‚   â”œâ”€â”€ admin.html, admin.js# ç®¡ç†å‘˜é¡µé¢ï¼ˆç‹¬ç«‹ï¼‰
â”‚   â””â”€â”€ ...
â”œâ”€â”€ server.js               # Node.js + Express + ws æœåŠ¡ç«¯ï¼ˆå« SMTP é‚®ä»¶ï¼‰
â”œâ”€â”€ data/                   # æ–‡ä»¶å‹ JSON å­˜å‚¨ä¸å¤‡ä»½
â”‚   â”œâ”€â”€ users.json
â”‚   â”œâ”€â”€ projects.json
â”‚   â”œâ”€â”€ {projectId}_{board}.json
â”‚   â””â”€â”€ backups/
â”œâ”€â”€ web/                    # å‰ç«¯é‡æ„ï¼ˆReact + TypeScript + Viteï¼Œè¿›è¡Œä¸­ï¼‰
â”œâ”€â”€ Dockerfile              # å®¹å™¨é•œåƒï¼ˆç”Ÿäº§ï¼‰
â”œâ”€â”€ docker-compose.dev.yml  # æœ¬åœ°å¼€å‘ï¼ˆOrbStack/volumeï¼‰
â”œâ”€â”€ docker-compose.prod.yml # æœåŠ¡å™¨éƒ¨ç½²ï¼ˆæŒä¹…åŒ–æ•°æ®å·ï¼‰
â”œâ”€â”€ docker-compose.prod.build.yml # æœåŠ¡å™¨ä¸Šæ„å»ºé•œåƒ
â”œâ”€â”€ postcss.config.cjs      # CSS æ„å»ºç®¡çº¿
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ”§ æŠ€æœ¯æ ˆ
- å‰ç«¯ï¼šåŸç”Ÿ JavaScript + HTML + CSSï¼ˆ`web/` ä¸ºè¿›è¡Œä¸­çš„ React + TypeScript + Vite é‡æ„ï¼‰
- æ ·å¼æ„å»ºï¼šPostCSSï¼ˆimport/autoprefixer/cssnano/purgecssï¼‰
- åç«¯ï¼šNode.js + Express
- å®æ—¶ï¼šWebSocketï¼ˆwsï¼‰
- å­˜å‚¨ï¼šæ–‡ä»¶å‹ JSONï¼ˆå¯ç›´æ¥æŸ¥çœ‹/å¤‡ä»½/ç‰ˆæœ¬åŒ–ï¼‰
- é‚®ä»¶ï¼šnodemailerï¼ˆè‡ªå®šä¹‰ SMTP æˆ– Ethereal é¢„è§ˆï¼‰
- é…ç½®ï¼šdotenv

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### 1) å®‰è£…ä¾èµ–
```bash
npm install
```

### 2) é…ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶æŒ‰éœ€ä¿®æ”¹ï¼š
```env
PORT=3000
NODE_ENV=development
BASE_URL=http://localhost:3000

# SMTPï¼ˆç”¨äºé‚®ä»¶éªŒè¯ä¸é‡ç½®å¯†ç ï¼‰
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
MAIL_FROM=
# å¼€å‘å¯ä½¿ç”¨ Ethereal é¢„è§ˆé‚®ç®±ï¼ˆéç”Ÿäº§æŠ•é€’ï¼‰
USE_ETHEREAL=true

# ç®¡ç†å‘˜å¯åŠ¨å¼•å¯¼ï¼ˆé¦–æ¬¡è¿è¡Œè‡ªåŠ¨åˆ›å»º/æå‡ï¼‰
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123
ADMIN_EMAIL=
```

### 3) å¯åŠ¨æœåŠ¡
```bash
npm start
# æˆ–ä¸´æ—¶æŒ‡å®šç«¯å£
PORT=3001 node server.js
```
è®¿é—® `http://localhost:3000`

## ğŸ³ ä½¿ç”¨ Dockerï¼ˆå¯é€‰ï¼‰
- å¼€å‘ï¼ˆæœ¬æœºè°ƒè¯•ã€æŒ‚è½½ä»£ç å·ï¼‰
```bash
docker compose -f docker-compose.dev.yml up -d
```
  - ç«¯å£æ˜ å°„ï¼š`3000:3000`
  - æŒ‚è½½ï¼š`./data:/app/data`ï¼ˆæŒä¹…æ•°æ®ï¼‰ã€`./public:/app/public`ï¼ˆé™æ€èµ„æºçƒ­è°ƒè¯•ï¼‰ã€`./server.js:/app/server.js`ï¼ˆéœ€æ‰‹åŠ¨é‡å¯ï¼‰ã€`./index.html`ã€`./kanban.js`ã€`./markdown.js`
- ç”Ÿäº§ï¼ˆæœåŠ¡å™¨éƒ¨ç½²ï¼‰
  - åœ¨æœåŠ¡å™¨ä¸Šæ„å»ºé•œåƒï¼š
```bash
docker compose -f docker-compose.prod.build.yml build
```
  - ä»¥æŒä¹…åŒ–æ•°æ®å·è¿è¡Œï¼š
```bash
docker compose -f docker-compose.prod.yml up -d
```
  - ç«¯å£æ˜ å°„ï¼š`3000:3000`ï¼›å‘½åå·ï¼š`kanban_data:/app/data`

## ğŸ” ç®¡ç†å‘˜æ§åˆ¶å°
- è®¿é—®è·¯å¾„ï¼š`/admin`
- ç™»å½•ï¼šä½¿ç”¨ç®¡ç†å‘˜è´¦å·å¯†ç ï¼ˆé¦–æ¬¡è¿è¡Œå¯é€šè¿‡ `.env` ä¸­ `ADMIN_*` å¼•å¯¼åˆ›å»º/æå‡ï¼‰
- åŠŸèƒ½ï¼š
  - åˆ—å‡ºç”¨æˆ·ï¼ˆé‚®ç®±/æ˜¯å¦éªŒè¯/æ˜¯å¦ç®¡ç†å‘˜/é¡¹ç›®æ•°/åˆ›å»ºæ—¶é—´ï¼‰
  - åˆ‡æ¢é‚®ç®±éªŒè¯çŠ¶æ€ã€åˆ‡æ¢ç®¡ç†å‘˜ã€é‡ç½®å¯†ç 
  - åˆ é™¤ç”¨æˆ·ï¼ˆå¦‚ç”¨æˆ·æ˜¯ä»»ä¸€é¡¹ç›®æ‰€æœ‰è€…å°†è¢«é˜»æ­¢ï¼‰

## ğŸ“ é¡¹ç›®è§„èŒƒï¼ˆProject Standardsï¼‰

### è¿è¡Œä¸ç«¯å£
- æœ¬åœ°å¯åŠ¨ï¼š`npm start`ï¼ˆè‡ªåŠ¨åŠ è½½ `.env`ï¼‰
- ä¹Ÿå¯ï¼š`node server.js` æˆ– `PORT=xxxx node server.js`

### Git æµç¨‹
- æäº¤ä¿¡æ¯ï¼šç®€æ˜æ¸…æ™°ï¼Œè¯´æ˜åŠ¨æœºä¸å½±å“ï¼ˆç¤ºä¾‹ï¼š`fix/ui: ç¨³å®šå†…è”ç¼–è¾‘å®½åº¦ï¼Œå»é™¤å³ä¾§é—´è·`ï¼‰
- è¯·å‹¿æäº¤æœ¬åœ°ä¸ªæ€§åŒ–è®¾ç½®æ–‡ä»¶ï¼ˆå¦‚ `.env`ï¼‰
- åˆ†æ”¯å‘½åï¼šåŠŸèƒ½ `feature/<name>`ï¼Œä¿®å¤ `fix/<name>`

### å‰ç«¯æ ·å¼ä¸äº¤äº’
- ä¿æŒ 4 ç©ºæ ¼ç¼©è¿›
- Trello é£æ ¼ï¼š
  - è®¾è®¡ä»¤ç‰Œå®šä¹‰åœ¨æ ¹/ä½œç”¨åŸŸä¸‹ï¼Œè¦†ç›–é›†ä¸­åˆ°æ ·å¼æœ«å°¾
  - åˆ—å®½ 272pxã€é—´è· 12pxã€èƒŒæ™¯ #ebecf0
  - çœ‹æ¿é¡µé¢æ ·å¼ä½œç”¨åŸŸä¸º `#boardPage`
- å†…è”ç¼–è¾‘ç¨³å®šæ€§ï¼š
  - æ ‡é¢˜/æè¿°ç¼–è¾‘å™¨ç»å¯¹å®šä½è¦†ç›–åŸæ–‡æœ¬ï¼Œå®¹å™¨ `position: relative` é”é«˜
  - æ—¥æœŸ/è´Ÿè´£äººç¼–è¾‘é‡‡ç”¨æµ®å±‚æˆ–å›ºå®šå®½é«˜è¾“å…¥ï¼Œé¿å…å¸ƒå±€æŠ–åŠ¨
- åˆ—ä¸å¡ç‰‡æ‹–æ‹½ï¼šé¿å…é‡å¤ç»‘å®šï¼›å®¹å™¨ä½¿ç”¨å•ä¸€ `ondragover` å¤„ç†

## ğŸ¤ è´¡çŒ®
- æ¬¢è¿æäº¤ Issue ä¸ PR æ”¹è¿›é¡¹ç›®
- å¦‚éœ€æ›´è¯¦ç»†è§„èŒƒï¼Œå»ºè®®æ–°å¢ `CONTRIBUTING.md`

## ğŸ“„ è®¸å¯
MIT
