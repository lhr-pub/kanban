# 多人协作看板应用 🚀

一个现代化的多用户实时协作看板工具，专为团队项目管理而设计。

## ✨ 核心特色

### 🎯 实时协作
- **多人同时编辑** - 支持团队成员实时协作
- **项目组管理** - 基于项目组的权限隔离
- **在线状态显示** - 实时显示团队成员在线状态
- **编辑冲突提示** - 智能显示正在编辑的任务和用户

### 📋 看板管理
- **三列工作流** - 待办 → 进行中 → 已完成的经典布局
- **快速操作** - 按回车键快速添加任务
- **拖拽移动** - 简单的按钮操作移动任务状态
- **任务归档** - 独立的归档管理界面
- **任务详情** - 支持标题、描述、截止日期、创建信息

### 🔄 数据管理
- **纯文本存储** - JSON格式，易于备份和版本控制
- **自动备份** - 每次操作自动创建增量备份
- **导入导出** - 支持JSON和Markdown格式的导入导出
- **合并覆盖** - 灵活的数据导入策略

### 💡 用户体验
- **一键归档** - 已完成任务可直接归档，无需确认
- **键盘快捷键** - Enter添加任务，Esc关闭弹窗
- **响应式设计** - 完美适配桌面和移动设备
- **直观界面** - 清晰的视觉提示和操作反馈

## 📁 项目结构

```
kanban/
├── public/                 # 前端文件
│   ├── index.html         # 主页面
│   ├── style.css          # 样式文件
│   └── app.js             # 前端逻辑
├── server.js              # Express服务器
├── package.json           # 项目配置
└── data/                  # 数据存储目录
    ├── users.txt          # 用户数据
    ├── {项目组}.txt       # 各项目组看板数据
    └── backups/           # 备份目录
```

## 🛠️ 快速开始

### 1. 克隆项目
```bash
git clone <repository-url>
cd kanban
```

### 2. 安装依赖
```bash
npm install
```

### 3. 启动服务器
```bash
# 默认端口3000
npm start

# 或指定端口
PORT=3001 node server.js
```

### 4. 访问应用
打开浏览器访问: http://localhost:3001

### 5. 开始使用
1. 注册用户账号
2. 创建或加入项目组
3. 开始创建和管理任务
4. 邀请团队成员协作

## 📋 使用指南

### 🔐 用户管理
1. **注册账号** - 输入用户名、密码和项目组名称
2. **加入项目组** - 相同项目组的用户共享看板数据
3. **在线状态** - 实时查看项目组内的在线成员

### 📝 任务管理
1. **快速添加** - 在输入框中输入任务标题，按Enter快速添加
2. **设置截止日期** - 可选择为任务设置截止时间
3. **编辑任务** - 点击任务卡片进入详细编辑模式
4. **移动状态** - 使用左右箭头按钮移动任务状态
5. **归档任务** - 已完成的任务可一键归档到独立页面

### 🔄 数据操作
1. **实时同步** - 所有操作自动同步到团队成员
2. **导出数据** - 支持导出为Markdown格式
3. **导入数据** - 支持JSON和Markdown格式导入
4. **导入模式** - 可选择合并或覆盖现有数据

### ⌨️ 快捷键
- **Enter** - 在输入框中快速添加任务
- **Esc** - 关闭模态框和弹窗
- **点击归档** - 直接归档已完成任务，无需确认

### 📁 归档管理
- 点击"归档管理"按钮进入独立的归档界面
- 查看和管理所有已归档的任务
- 可以将归档任务还原到待办列表
- 支持批量清空归档

## 🔧 技术栈

- **前端**: 原生JavaScript + CSS
- **后端**: Node.js + Express
- **实时通信**: WebSocket (ws库)
- **数据存储**: JSON文本文件
- **用户认证**: SHA256密码哈希

## 📝 数据格式

### 用户数据 (users.txt)
```json
{
  "用户名": {
    "password": "哈希密码",
    "groups": ["项目组1", "项目组2"],
    "created": "创建时间"
  }
}
```

### 看板数据 (项目组.txt)
```json
{
  "todo": [
    {
      "id": "任务ID",
      "title": "任务标题",
      "description": "任务描述",
      "author": "创建者",
      "created": "创建时间",
      "deadline": "截止时间"
    }
  ],
  "doing": [...],
  "done": [...]
}
```

## 🔄 备份策略

- **自动备份**: 每次数据修改都会创建备份
- **文件命名**: `项目组-时间戳.txt`
- **保留策略**: 每个项目组保留最近50个备份
- **清理机制**: 每小时自动清理过期备份

## 🚦 部署建议

### 开发环境
```bash
PORT=3001 node server.js
```

### 生产环境
1. 使用PM2或类似工具管理进程
2. 配置反向代理(Nginx)
3. 设置数据目录权限
4. 定期备份data目录

### 安全建议
- 在生产环境中使用HTTPS
- 定期备份data目录到其他位置
- 考虑使用更强的密码哈希算法
- 添加用户访问频率限制

## 📞 故障排除

### 端口占用
如果3000端口被占用，使用其他端口：
```bash
PORT=3001 node server.js
```

### 数据恢复
从备份恢复数据：
1. 找到对应的备份文件
2. 复制到data目录并重命名
3. 重启服务器

### WebSocket连接问题
- 检查防火墙设置
- 确认WebSocket支持
- 查看浏览器控制台错误信息

## 🎯 功能演示

当前服务器已在端口3001启动，可以：
1. 访问 http://localhost:3001
2. 注册多个用户到同一项目组
3. 在不同浏览器窗口中测试实时协作
4. 尝试添加、编辑、移动任务
5. 测试Markdown导出功能

## 🎯 项目亮点

### 💼 适用场景
- **敏捷开发** - 完美支持Scrum和看板方法论
- **项目管理** - 适合中小团队的项目协作
- **个人任务** - 支持个人任务管理和时间规划
- **教育培训** - 课程项目和小组作业管理

### 🌟 技术优势
- **零依赖前端** - 纯原生技术，加载快速
- **轻量级后端** - Node.js + Express，部署简单
- **文本存储** - JSON格式，便于版本控制和迁移
- **实时通信** - WebSocket确保数据同步的可靠性

### 🔒 安全特性
- **密码加密** - SHA256哈希存储用户密码
- **输入验证** - 前后端双重数据验证
- **会话管理** - 安全的用户会话处理
- **数据隔离** - 项目组之间完全数据隔离

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

### 开发环境设置
1. Fork 本仓库
2. 创建功能分支: `git checkout -b feature/your-feature`
3. 提交更改: `git commit -am 'Add some feature'`
4. 推送分支: `git push origin feature/your-feature`
5. 提交Pull Request

## 📄 开源协议

本项目采用 MIT 协议开源，详见 [LICENSE](LICENSE) 文件。

---

**🚀 立即开始使用，体验高效的团队协作！**