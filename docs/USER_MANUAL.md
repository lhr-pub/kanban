# 📖 用户使用手册

欢迎使用多人协作看板应用！本手册将帮助你快速上手并充分利用所有功能。

## 目录

- [快速入门](#快速入门)
- [首页/工作台](#首页工作台)
- [项目管理](#项目管理)
- [看板操作](#看板操作)
- [卡片与任务](#卡片与任务)
- [星标与置顶](#星标与置顶)
- [导入与导出](#导入与导出)
- [快捷键](#快捷键)
- [个人设置](#个人设置)
- [常见问题](#常见问题)

---

## 快速入门

### 注册账号

1. 访问应用首页，点击 **"注册"**
2. 填写用户名、密码和邮箱地址
3. 点击 **"注册"** 按钮提交

### 邮箱验证

注册成功后，系统会发送验证邮件到你的邮箱：

1. 打开邮箱，找到标题为"请验证您的邮箱"的邮件
2. 点击邮件中的验证链接
3. 验证成功后即可登录

> ⚠️ **注意**：未验证邮箱无法登录。如果没收到邮件，请检查垃圾邮件文件夹，或点击"重新发送验证邮件"（60秒内只能发送一次）。

### 登录

1. 输入用户名（或邮箱）和密码
2. 点击 **"登录"** 按钮

### 忘记密码

1. 在登录页点击 **"忘记密码"**
2. 输入注册时的邮箱地址
3. 查收邮件并点击重置链接
4. 设置新密码

---

## 首页/工作台

登录后进入工作台，这里是你的项目和看板管理中心。

### 页面布局

```
┌─────────────────────────────────────────────────────────┐
│  🏠 工作台          [邀请管理] [背景▾] [用户▾]          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ⭐ 星标看板                                            │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐                   │
│  │ 看板A   │ │ 看板B   │ │ 看板C   │                   │
│  │ 项目X   │ │ 项目Y   │ │ 项目X   │                   │
│  └─────────┘ └─────────┘ └─────────┘                   │
│                                                         │
│  📁 我的项目                    [+ 创建项目] [加入项目] │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐                   │
│  │ 项目A   │ │ 项目B   │ │ 项目C   │                   │
│  │ 3个看板 │ │ 5个看板 │ │ 2个看板 │                   │
│  └─────────┘ └─────────┘ └─────────┘                   │
│                                                         │
│  📋 所有看板                              [搜索...]     │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐                   │
│  │ 看板1   │ │ 看板2   │ │ 看板3   │                   │
│  └─────────┘ └─────────┘ └─────────┘                   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 星标看板区

- 显示你标记为星标的看板，按加星时间倒序排列
- 点击看板卡片直接进入该看板
- 点击 ⭐ 按钮取消星标

### 项目区

- 显示你参与的所有项目
- 点击项目卡片进入项目的看板列表页
- 项目卡片右上角显示操作按钮（悬停可见）

### 所有看板区

- 显示你所有项目中的所有看板
- 支持按看板名/项目名搜索
- 点击看板卡片直接进入该看板

---

## 项目管理

### 创建项目

1. 在首页点击 **"+ 创建项目"**
2. 输入项目名称
3. 点击确认

> 💡 新创建的项目默认不包含任何看板，需要手动创建看板。

### 加入项目

**方式一：通过邀请码**
1. 点击首页 **"加入项目"** 按钮
2. 输入项目邀请码
3. 等待项目所有者审批

**方式二：接受邀请**
1. 项目所有者在项目成员管理中添加你
2. 你会在"邀请管理"中看到邀请
3. 点击"接受"加入项目

### 邀请管理

点击导航栏的 **"邀请管理"** 按钮，可以看到：

| 区域 | 内容 |
|------|------|
| 我收到的邀请 | 其他项目发给你的邀请，可接受或拒绝 |
| 待我审批的申请 | 他人通过邀请码申请加入你的项目，需审批 |
| 输入邀请码 | 输入邀请码申请加入项目 |

> 📌 邀请管理按钮上的数字徽标 = 收到的邀请数 + 待审批的申请数

### 项目设置（项目所有者）

进入项目页后，项目所有者可以：

- **重命名项目**：点击面包屑中的项目名进行内联编辑
- **查看邀请码**：在成员管理中查看，可分享给他人
- **重新生成邀请码**：点击刷新按钮生成新邀请码
- **管理成员**：查看成员列表，移除成员
- **删除项目**：删除项目及其所有看板（不可恢复）

### 成员管理

点击项目页的 **"成员"** 按钮：

| 角色 | 权限 |
|------|------|
| 项目所有者 | 可移除任意成员、审批加入申请、删除项目 |
| 普通成员 | 只能移除自己（退出项目） |

---

## 看板操作

### 进入项目看板页

从首页点击项目卡片，进入项目的看板列表页。

```
┌─────────────────────────────────────────────────────────┐
│  🏠 > 📁 项目A ▾                    [成员] [邀请码]     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📌 置顶看板                                            │
│  ┌─────────┐ ┌─────────┐                               │
│  │ 看板1   │ │ 看板2   │                               │
│  └─────────┘ └─────────┘                               │
│                                                         │
│  📋 全部看板                                            │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐                   │
│  │ 看板3   │ │ 看板4   │ │ 看板5   │                   │
│  └─────────┘ └─────────┘ └─────────┘                   │
│                                                         │
│  ┌──────────────────┐                                   │
│  │ + 新建看板...    │                                   │
│  └──────────────────┘                                   │
│                                                         │
│  ▶ 归档的看板 (2)                                       │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 创建看板

1. 在项目看板页底部，点击 **"+ 新建看板"** 输入框
2. 输入看板名称
3. 按 **Enter** 创建

### 看板卡片操作

悬停在看板卡片上，右上角会显示操作按钮：

| 按钮 | 功能 |
|------|------|
| ⭐ | 添加/取消星标 |
| ⇧ | 置前（移到最前） |
| … | 更多操作（重命名/移动/归档） |
| ✕ | 删除看板 |

> ⚠️ 只有项目所有者或看板创建者才能看到"更多"和"删除"按钮。

### 重命名看板

**方式一**：点击看板卡片的 **"…"** → **"重命名"**

**方式二**：在看板页面，点击面包屑中的看板名进行内联编辑

### 移动看板

将看板移动到其他项目：

1. 点击看板卡片的 **"…"** → **"移动"**
2. 在弹出的项目选择器中搜索并选择目标项目
3. 确认移动

> ⚠️ 你必须是目标项目的成员才能移动看板到该项目。

### 归档看板

1. 点击看板卡片的 **"…"** → **"归档"**
2. 看板会移到"归档的看板"区域
3. 点击"▶ 归档的看板"展开查看
4. 可以"还原"或"删除"归档的看板

### 看板切换器

在看板页面，点击面包屑中的看板名旁的 **▾** 箭头，打开看板切换器：

- 搜索看板
- 快速切换到其他看板
- 创建新看板（使用搜索框内容）
- 重命名其他看板

---

## 卡片与任务

### 看板页面布局

```
┌─────────────────────────────────────────────────────────────────┐
│  🏠 > 📁 项目A ▾ > 📋 看板1 ▾        [导入/导出▾] [归档] [成员] │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌───────────┐ │
│  │ 📋 待办     │ │ 🔄 进行中   │ │ ✅ 已完成   │ │ + 添加卡组│ │
│  ├─────────────┤ ├─────────────┤ ├─────────────┤ └───────────┘ │
│  │ ┌─────────┐ │ │ ┌─────────┐ │ │ ┌─────────┐ │               │
│  │ │ 任务1   │ │ │ │ 任务3   │ │ │ │ 任务5   │ │               │
│  │ │ 📝 💬2  │ │ │ │ @张三   │ │ │ │ ✓       │ │               │
│  │ └─────────┘ │ │ └─────────┘ │ │ └─────────┘ │               │
│  │ ┌─────────┐ │ │             │ │             │               │
│  │ │ 任务2   │ │ │             │ │             │               │
│  │ │ 📅3/15  │ │ │             │ │             │               │
│  │ └─────────┘ │ │             │ │             │               │
│  │             │ │             │ │             │               │
│  │ + 添加卡片  │ │ + 添加卡片  │ │ + 添加卡片  │               │
│  └─────────────┘ └─────────────┘ └─────────────┘               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 卡组（列表）

#### 创建卡组

1. 点击页面右侧的 **"+ 添加卡组"** 按钮
2. 输入卡组名称
3. 按 **Enter** 创建，或按 **Esc** 取消

#### 重命名卡组

1. 双击卡组标题
2. 编辑名称
3. 按 **Enter** 保存或点击外部

#### 删除卡组

点击卡组标题旁的删除按钮（卡组需为空）

#### 拖拽排序卡组

拖拽卡组标题可以调整卡组顺序

### 卡片

#### 添加卡片

1. 点击卡组底部的 **"+ 添加卡片"**
2. 输入卡片标题
3. 按 **Enter** 添加，继续输入可连续添加
4. 按 **Esc** 或点击外部关闭

> 💡 在空白卡组区域按 **Enter** 也可以快速打开添加卡片输入框。

#### 卡片正面信息

卡片正面会显示：

| 元素 | 含义 |
|------|------|
| 彩色点 | 标签颜色 |
| 标题 | 卡片标题 |
| 📝 | 有描述内容 |
| 💬 数字 | 评论数量 |
| 📅 日期 | 截止日期 |
| @名字 | 负责人 |

#### 编辑卡片

**方式一：内联编辑**
- 点击卡片标题直接编辑标题
- 按 **Enter** 或 **Ctrl+Enter** 保存
- 按 **Esc** 取消

**方式二：详情抽屉**
- 点击卡片空白区域打开详情抽屉
- 可编辑标题、描述、负责人、截止日期、标签
- 可查看和添加评论

#### 卡片详情抽屉

```
┌─────────────────────────────────────┐
│  ✕                                  │
├─────────────────────────────────────┤
│  标题：[可编辑的标题              ] │
│                                     │
│  描述：                             │
│  [可编辑的描述内容                ] │
│  [支持多行                        ] │
│                                     │
│  负责人：[下拉选择成员        ▾]   │
│  截止日期：[日期选择器       📅]   │
│  标签：[添加标签...]               │
│                                     │
│  ─────────────────────────────────  │
│  💬 评论 (3)                        │
│  ┌─────────────────────────────────┐│
│  │ 张三 · 1小时前                  ││
│  │ 这个任务需要尽快完成            ││
│  ├─────────────────────────────────┤│
│  │ 李四 · 30分钟前                 ││
│  │ 我来处理这个                    ││
│  └─────────────────────────────────┘│
│                                     │
│  [输入评论...                     ] │
│  [发送]                             │
│                                     │
├─────────────────────────────────────┤
│  [归档卡片]              [保存]     │
└─────────────────────────────────────┘
```

#### 拖拽卡片

- **列内排序**：拖拽卡片上下移动调整顺序
- **跨列移动**：拖拽卡片到其他卡组

### 归档管理

#### 归档卡片

1. 打开卡片详情抽屉
2. 点击 **"归档卡片"** 按钮

#### 查看归档

1. 点击导航栏的 **"归档"** 按钮
2. 可搜索归档的卡片（按标题/描述/标签/负责人）
3. 可"还原"或"删除"卡片

#### 清空归档

在归档页点击 **"清空归档"** 删除所有归档卡片（不可恢复）

---

## 星标与置顶

### 星标看板

星标功能帮助你快速访问常用看板。

#### 添加星标

- 在看板卡片上点击 ⭐ 按钮
- 或在看板页面点击导航栏的星标按钮

#### 星标看板区

- 首页顶部显示所有星标看板
- 按加星时间倒序排列
- 支持单独的置前排序（不影响项目内排序）

### 置顶分组

项目和看板列表分为"置顶"和"普通"两个分组。

#### 置顶/取消置顶

- 悬停在卡片标题左侧图标上
- 图标变为 📌（置顶）或取消图标
- 点击切换置顶状态

#### 分组内排序

- 点击 **"⇧"**（置前）将卡片移到当前分组最前
- 置顶分组和普通分组各自独立排序

---

## 导入与导出

### 导出看板

在看板页点击 **"导入/导出 ▾"** 菜单：

| 格式 | 特点 | 适用场景 |
|------|------|----------|
| **TaskPaper** | 简洁纯文本 | 快速编辑、版本控制 |
| **Markdown** | 详细格式 | 文档归档、分享 |
| **JSON** | 原始数据 | 程序处理、完整迁移 |

### 导入看板

#### 从文件导入

1. 点击 **"从文件导入"**
2. 选择 `.json`、`.md` 或 `.taskpaper` 文件
3. 选择导入模式：
   - **合并**：添加到现有数据
   - **覆盖**：替换现有数据

#### 从文本导入

1. 点击 **"从文本导入"**
2. 在文本框中粘贴内容（自动检测格式）
3. 按 **Ctrl+Enter** 确认导入

### TaskPaper 格式说明

```
待办:

- 完成用户认证模块 @张三 @due(2024-03-15)
- 修复登录 bug
- 编写单元测试 @李四

进行中:

- 代码审查 @王五 @due(2024-03-10)

已完成:

- 数据库设计
```

**语法规则**：
- `列名:` — 以冒号结尾定义卡组
- `- 内容` — 以 `- ` 开头定义卡片
- `@用户名` — 指定负责人
- `@due(日期)` — 指定截止日期

---

## 快捷键

### 全局快捷键

| 快捷键 | 功能 |
|--------|------|
| **Esc** | 关闭当前弹窗/抽屉/对话框 |

### 编辑快捷键

| 快捷键 | 功能 |
|--------|------|
| **Enter** | 保存/确认 |
| **Shift+Enter** | 换行（在单行输入框中） |
| **Ctrl/Cmd+Enter** | 保存并关闭（在多行编辑中） |
| **Esc** | 取消编辑 |

### 卡组快捷键

| 快捷键 | 功能 |
|--------|------|
| **Enter**（在空白卡组） | 打开"添加卡片"输入框 |

### 导入弹窗

| 快捷键 | 功能 |
|--------|------|
| **Enter** | 文本框内换行 |
| **Ctrl+Enter** | 确认导入 |
| **Esc** | 取消导入 |

---

## 个人设置

### 修改密码

1. 点击导航栏右上角的用户名
2. 选择 **"修改密码"**
3. 输入当前密码和新密码
4. 确认修改

### 背景设置

1. 点击导航栏的 **"背景 ▾"** 按钮
2. 选择：
   - **默认背景**：从预设背景中选择
   - **上传背景**：上传自定义图片（支持 PNG/JPEG/WEBP，最大 10MB）
   - **清除背景**：恢复纯色背景

> 💡 背景设置是每用户独立的，不影响其他用户。

### 退出登录

点击用户名下拉菜单中的 **"退出"**

---

## 常见问题

### Q: 注册后没收到验证邮件？

1. 检查垃圾邮件/广告邮件文件夹
2. 确认邮箱地址输入正确
3. 在登录页点击"重新发送验证邮件"（60秒限制）
4. 如仍有问题，联系管理员

### Q: 忘记密码怎么办？

1. 在登录页点击"忘记密码"
2. 输入注册邮箱
3. 查收邮件并按链接重置密码

### Q: 为什么我不能删除/重命名看板？

只有以下用户可以操作：
- 项目所有者
- 看板创建者

如果你是普通成员，需要联系项目所有者或看板创建者。

### Q: 为什么我被移出了项目？

项目所有者可以移除任意成员。被移出后：
- 你会收到提示
- 2秒后自动跳转到首页
- 该项目的星标会被清除

### Q: 如何邀请他人加入项目？

**方式一**：分享邀请码
1. 进入项目页
2. 点击"邀请码"查看
3. 将邀请码发给对方
4. 对方输入邀请码申请加入
5. 你在"邀请管理"中审批

**方式二**：直接添加
1. 进入项目页
2. 点击"成员"
3. 输入用户名添加
4. 对方在"邀请管理"中接受

### Q: 看板数据会丢失吗？

不会。系统有多重保护：
- 每次修改自动备份（保留最近 50 份）
- 支持导出 JSON 完整备份
- 支持用户/项目级别的备份还原

### Q: 多人同时编辑会冲突吗？

不会。系统支持实时协作：
- 修改会即时同步到所有在线用户
- 正在被编辑的卡片会显示占用提示
- 评论等操作实时刷新

---

## 权限速查表

| 操作 | 项目所有者 | 看板创建者 | 普通成员 |
|------|:--------:|:--------:|:------:|
| 创建看板 | ✅ | ✅ | ✅ |
| 重命名看板 | ✅ | ✅ | ❌ |
| 移动看板 | ✅ | ✅* | ❌ |
| 归档/还原看板 | ✅ | ✅ | ❌ |
| 删除看板 | ✅ | ✅ | ❌ |
| 重命名项目 | ✅ | ❌ | ❌ |
| 删除项目 | ✅ | ❌ | ❌ |
| 移除成员 | ✅（任意） | ❌ | ❌（仅自己） |
| 审批加入申请 | ✅ | ❌ | ❌ |
| 星标/置前 | ✅ | ✅ | ✅ |

*移动看板需同时是目标项目成员

---

如有其他问题，请联系系统管理员。

祝你使用愉快！🎉

